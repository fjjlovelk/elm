{"version":3,"sources":["webpack:///./src/views/shop/ShopCategory.vue?6bf6","webpack:///src/views/shop/ShopCategory.vue","webpack:///./src/views/shop/ShopCategory.vue?2756","webpack:///./src/views/shop/ShopCategory.vue","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/shop/ShopCategory.vue?ad07"],"names":["render","this$1","this","_vm","_h","$createElement","_c","_self","attrs","on","$event","cateDialog","_v","subCateDialog","categoryList","children","scopedSlots","_u","key","fn","scope","row","level","editCategory","delCategory","cateId","closeCateDialog","dialogClosed","ref","cateForm","cateRule","staticClass","uploadURL","headers","res","icon","url","model","value","callback","$$v","$set","trim","expression","slot","saveCate","closeSubCateDialog","subCateForm","subCateRule","_l","item","_id","name","saveSubCate","staticRenderFns","data","parent","computed","created","getCategoryList","methods","$refs","cateRef","resetFields","Object","assign","$options","subCateRef","validate","$confirm","confirmButtonText","cancelButtonText","type","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-74761646.923531bc.js","sourcesContent":["var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-layout',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.cateDialog = true}}},[_vm._v(\"添加一级分类\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.subCateDialog = true}}},[_vm._v(\"添加二级分类\")]),_c('el-table',{attrs:{\"data\":_vm.categoryList,\"row-key\":\"_id\",\"tree-props\":{children: 'children'},\"border\":\"\",\"highlight-current-row\":\"\",\"max-height\":\"840px\"}},[_c('el-table-column',{attrs:{\"label\":\"分类名称\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"分类级别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.level === 1)?_c('el-tag',[_vm._v(\"一级\")]):_c('el-tag',{attrs:{\"type\":\"warning\"}},[_vm._v(\"二级\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editCategory(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.delCategory(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.cateId?'修改一级分类':'添加一级分类',\"visible\":_vm.cateDialog},on:{\"close\":_vm.closeCateDialog,\"closed\":_vm.dialogClosed}},[_c('el-form',{ref:\"cateRef\",attrs:{\"model\":_vm.cateForm,\"label-width\":\"100px\",\"rules\":_vm.cateRule}},[_c('el-form-item',{attrs:{\"label\":\"图标\",\"prop\":\"icon\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"show-file-list\":false,\"action\":_vm.uploadURL,\"headers\":_vm.headers,\"on-success\":function (res) {\n            this$1.cateForm.icon = res.url\n          }}},[(_vm.cateForm.icon)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.cateForm.icon}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.cateForm.name),callback:function ($$v) {_vm.$set(_vm.cateForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"cateForm.name\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveCate}},[_vm._v(\"确定\")]),_c('el-button',{on:{\"click\":function($event){_vm.cateDialog = false}}},[_vm._v(\"取消\")])],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.cateId?'修改二级分类':'添加二级分类',\"visible\":_vm.subCateDialog},on:{\"close\":_vm.closeSubCateDialog,\"closed\":_vm.dialogClosed}},[_c('el-form',{ref:\"subCateRef\",attrs:{\"model\":_vm.subCateForm,\"label-width\":\"100px\",\"rules\":_vm.subCateRule}},[_c('el-form-item',{attrs:{\"label\":\"父级分类\",\"prop\":\"parent\"}},[_c('el-select',{model:{value:(_vm.subCateForm.parent),callback:function ($$v) {_vm.$set(_vm.subCateForm, \"parent\", $$v)},expression:\"subCateForm.parent\"}},_vm._l((_vm.categoryList),function(item){return _c('el-option',{key:item._id,attrs:{\"value\":item._id,\"label\":item.name}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.subCateForm.name),callback:function ($$v) {_vm.$set(_vm.subCateForm, \"name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"subCateForm.name\"}})],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveSubCate}},[_vm._v(\"确定\")]),_c('el-button',{on:{\"click\":function($event){_vm.subCateDialog = false}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <base-layout>\r\n      <el-button type=\"primary\" @click=\"cateDialog = true\">添加一级分类</el-button>\r\n      <el-button type=\"primary\" @click=\"subCateDialog = true\">添加二级分类</el-button>\r\n      <el-table\r\n        :data=\"categoryList\"\r\n        row-key=\"_id\"\r\n        :tree-props=\"{children: 'children'}\"\r\n        border\r\n        highlight-current-row\r\n        max-height=\"840px\"\r\n      >\r\n        <el-table-column label=\"分类名称\" prop=\"name\"></el-table-column>\r\n        <el-table-column label=\"分类级别\">\r\n          <template #default=\"scope\">\r\n            <el-tag v-if=\"scope.row.level === 1\">一级</el-tag>\r\n            <el-tag v-else type=\"warning\">二级</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"200px\">\r\n          <template #default=\"scope\">\r\n            <el-button\r\n              type=\"primary\"\r\n              size=\"mini\"\r\n              icon=\"el-icon-edit\"\r\n              @click=\"editCategory(scope.row)\"\r\n            >编辑</el-button>\r\n            <el-button\r\n              type=\"danger\"\r\n              size=\"mini\"\r\n              icon=\"el-icon-delete\"\r\n              @click=\"delCategory(scope.row)\"\r\n            >删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </base-layout>\r\n\r\n    <el-dialog\r\n      :title=\"cateId?'修改一级分类':'添加一级分类'\"\r\n      :visible=\"cateDialog\"\r\n      @close=\"closeCateDialog\"\r\n      @closed=\"dialogClosed\"\r\n    >\r\n      <el-form :model=\"cateForm\" label-width=\"100px\" ref=\"cateRef\" :rules=\"cateRule\">\r\n        <el-form-item label=\"图标\" prop=\"icon\">\r\n          <el-upload\r\n            class=\"avatar-uploader\"\r\n            :show-file-list=\"false\"\r\n            :action=\"uploadURL\"\r\n            :headers=\"headers\"\r\n            :on-success=\"res => {\r\n              this.cateForm.icon = res.url\r\n            }\"\r\n          >\r\n            <img v-if=\"cateForm.icon\" :src=\"cateForm.icon\" class=\"avatar\" />\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"分类名称\" prop=\"name\">\r\n          <el-input v-model.trim=\"cateForm.name\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button type=\"primary\" @click=\"saveCate\">确定</el-button>\r\n        <el-button @click=\"cateDialog = false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog\r\n      :title=\"cateId?'修改二级分类':'添加二级分类'\"\r\n      :visible=\"subCateDialog\"\r\n      @close=\"closeSubCateDialog\"\r\n      @closed=\"dialogClosed\"\r\n    >\r\n      <el-form :model=\"subCateForm\" label-width=\"100px\" ref=\"subCateRef\" :rules=\"subCateRule\">\r\n        <el-form-item label=\"父级分类\" prop=\"parent\">\r\n          <el-select v-model=\"subCateForm.parent\">\r\n            <el-option\r\n              v-for=\"item in categoryList\"\r\n              :key=\"item._id\"\r\n              :value=\"item._id\"\r\n              :label=\"item.name\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"分类名称\" prop=\"name\">\r\n          <el-input v-model.trim=\"subCateForm.name\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\">\r\n        <el-button type=\"primary\" @click=\"saveSubCate\">确定</el-button>\r\n        <el-button @click=\"subCateDialog = false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getCategoryList,\r\n  postCategory,\r\n  putCategory,\r\n  delCategory,\r\n  postSubCate,\r\n  putSubCate,\r\n  delSubCate\r\n} from '@/api/http'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n      cateDialog: false,\r\n      subCateDialog: false,\r\n      categoryList: [],\r\n      cateForm: {\r\n        icon: '',\r\n        name: ''\r\n      },\r\n      cateRule: {\r\n        icon: [{ required: true }],\r\n        name: [{ required: true, message: '请输入分类名称', trigger: 'blur' }]\r\n      },\r\n      subCateForm: {\r\n        name: '',\r\n        parent: null\r\n      },\r\n      subCateRule: {\r\n        name: [{ required: true, message: '请输入分类名称', trigger: 'blur' }],\r\n        parent: [\r\n          { required: true, message: '请选择父级分类', trigger: 'change' }\r\n        ]\r\n      },\r\n      cateId: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      uploadURL: state => state.uploadURL,\r\n      headers: state => state.headers\r\n    })\r\n  },\r\n  created() {\r\n    this.getCategoryList()\r\n  },\r\n  methods: {\r\n    // 关闭一级分类弹框\r\n    closeCateDialog() {\r\n      this.cateDialog = false\r\n      this.$refs.cateRef.resetFields()\r\n      Object.assign(this.cateForm, this.$options.data().cateForm)\r\n    },\r\n    // 关闭二级分类弹框\r\n    closeSubCateDialog() {\r\n      this.subCateDialog = false\r\n      this.$refs.subCateRef.resetFields()\r\n      Object.assign(this.subCateForm, this.$options.data().subCateForm)\r\n    },\r\n    dialogClosed() {\r\n      this.cateId = null\r\n    },\r\n    // 获取分类列表\r\n    async getCategoryList() {\r\n      const { data: res } = await getCategoryList()\r\n      this.categoryList = res.data\r\n    },\r\n    // 确定添加/修改一级分类\r\n    saveCate() {\r\n      this.$refs.cateRef.validate(async valid => {\r\n        if (!valid) return false\r\n        if (this.cateId) {\r\n          const { data: res } = await putCategory(this.cateId, this.cateForm)\r\n          this.$message.success(res.meta.message)\r\n        } else {\r\n          const { data: res } = await postCategory(this.cateForm)\r\n          this.$message.success(res.meta.message)\r\n        }\r\n        this.getCategoryList()\r\n        this.cateDialog = false\r\n      })\r\n    },\r\n    // 确定添加/修改二级分类\r\n    saveSubCate() {\r\n      this.$refs.subCateRef.validate(async valid => {\r\n        if (!valid) return false\r\n        if (this.cateId) {\r\n          const { data: res } = await putSubCate(this.cateId, this.subCateForm)\r\n          this.$message.success(res.meta.message)\r\n        } else {\r\n          const { data: res } = await postSubCate(this.subCateForm)\r\n          this.$message.success(res.meta.message)\r\n        }\r\n        this.getCategoryList()\r\n        this.subCateDialog = false\r\n      })\r\n    },\r\n    // 编辑按钮\r\n    editCategory(row) {\r\n      this.cateId = row._id\r\n      if (row.level === 1) {\r\n        Object.assign(this.cateForm, row)\r\n        this.cateDialog = true\r\n      } else {\r\n        Object.assign(this.subCateForm, row)\r\n        this.subCateDialog = true\r\n      }\r\n    },\r\n    // 确定删除一级分类、二级分类\r\n    delCategory(row) {\r\n      this.$confirm(`确定删除分类 ${row.name} 吗`, '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(async () => {\r\n          if (row.level === 1) {\r\n            const { data: res } = await delCategory(row._id)\r\n          } else {\r\n            const { data: res } = await delSubCate(row._id)\r\n          }\r\n          this.$message.success(res.meta.message)\r\n          this.getCategoryList()\r\n        })\r\n        .catch(() => {})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-table {\r\n  margin-top: 15px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCategory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShopCategory.vue?vue&type=template&id=4fd62a04&scoped=true&\"\nimport script from \"./ShopCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./ShopCategory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShopCategory.vue?vue&type=style&index=0&id=4fd62a04&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4fd62a04\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCategory.vue?vue&type=style&index=0&id=4fd62a04&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShopCategory.vue?vue&type=style&index=0&id=4fd62a04&scoped=true&lang=css&\""],"sourceRoot":""}